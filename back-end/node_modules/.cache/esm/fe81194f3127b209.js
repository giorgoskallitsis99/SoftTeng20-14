_312‍.x([["cli",()=>cli]]);const minimist = require('minimist');
const moment = require('moment');

function Parse(args){
    if (args["_"]) { delete args["_"]; }
    if(args.datefrom){
        args.datefrom = moment.format("YYYY-MM-DD");
    }
    if(args.dateto){
        args.dateto = moment.format("YYYY-MM-DD");
    }
}

       function cli(argsArray){
    const argument = minimist(argsArray.slice(2));
    const args =  Parse(argument);

    let scope = Object.keys(args)[0] || 'help';
    args._ = "[]";

    switch(scope){
        case 'SessionsPerPoint':
            perPoint(args)
            break;
        default:
            console.error(`"${scope}" is not a valid command!`);
            break;
    }
}